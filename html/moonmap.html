<html>
<head>
<title>Map of Moon</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>

<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
   integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
   crossorigin="">
</script>

<!-- Fullscreen -->
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />

<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<style type="text/css">
html {height: 100%; width: 100%;}
body {margin: 0; height: 100%; width: 100%;}
</style>

</head>

<body>

<div style="width: 100%; height: 100%;" id="map"></div>

<script>
// mapid start
var moonbase = L.tileLayer('https://cartocdn-gusc.global.ssl.fastly.net/opmbuilder/api/v1/map/named/opm-moon-basemap-v0-1/all/{z}/{x}/{y}.png', {
    maxZoom: 18,
    attribution: '&copy; <a href="https://www.openplanetary.org/">Open Planetary Map</a>'
});

var moonshaded = L.tileLayer('https://s3.amazonaws.com/opmbuilder/301_moon/tiles/w/hillshaded-albedo/{z}/{x}/{y}.png', {
    maxZoom: 18,
    tms: true,
    attribution: '&copy; <a href="https://www.openplanetary.org/">Open Planetary Map</a>'
});

var baseMaps = {
    "OPM Moon Basemap v0.1": moonbase,
    "Moon Hillshaded Albedo": moonshaded
}

var overlayMaps = {

};

var map = L.map('map', {
    center: [0, 0],
    zoom: 2,
    layers: [moonbase]
});

// add layer control
L.control.layers(baseMaps, overlayMaps).addTo(map);

// add full screen control
map.addControl(new L.Control.Fullscreen());

// L.tileLayer.wms('https://tile.osgeo.cn/service?', {
//         format: 'image/png',
//         opacity: '0.5',
//         layers: 'maplet_6cf7'
// }).addTo(mymap);

var sboxlatlng = L.Control.Geocoder.latLng();
L.Control.geocoder({
    placeholder: "经纬度",
    geocoder: sboxlatlng,
    position:"topleft"
}).addTo(map);

// geojson
var geojsonFeature = [{
        "type": "Feature",
        "properties": {
            "name": "玉兔号",
            "amenity": "月球车",
            "popupContent": "2013年12月2日发射，同月14日着陆月球，2016年7月31日停止工作。"
        },
        "geometry": {
            "type": "Point",
            "coordinates": [-19.5014, 44.1260]
        }
    }, {
        "type": "Feature",
        "properties": {
            "name": "玉兔二号",
            "amenity": "月球车",
            "popupContent": "2018年12月7日发射，2019年1月3日着陆月球。"
        },
        "geometry": {
            "type": "Point",
            "coordinates": [177.60563, -45.47084]
        }
    }, {
        "type": "Feature",
        "properties": {
            "name": "嫦娥一号",
            "amenity": "绕月卫星",
            "popupContent": "2007年11月24日发射，2009年3月1日在控制下坠落月球。"
        },
        "geometry": {
            "type": "Point",
            "coordinates": [52.36, -1.50]
        }
    }, {
        "type": "Feature",
        "properties": {
            "name": "嫦娥五号",
            "amenity": "月球探测器",
            "popupContent": "2020年11月24日发射，同年12月17日返回地球。"
        },
        "geometry": {
            "type": "Point",
            "coordinates": [-51.837,43.099]
        }
    }
]
L.geoJSON(geojsonFeature).addTo(map);

</script>
</body>
</html>
