<html>
<head>
<title>Map of Mars</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>

<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
   integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
   crossorigin="">
</script>

<!-- Fullscreen -->
<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />

<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>

<style type="text/css">
html {height: 100%; width: 100%;}
body {margin: 0; height: 100%; width: 100%;}
</style>

</head>

<body>

<div style="width: 100%; height: 100%;" id="map"></div>

<script>
// mapid start
var marsbase = L.tileLayer('https://cartocdn-gusc.global.ssl.fastly.net/opmbuilder/api/v1/map/named/opm-mars-basemap-v0-2/all/{z}/{x}/{y}.png', {
    maxZoom: 18,
    attribution: '&copy; <a href="https://www.openplanetary.org/">Open Planetary Map</a>'
});

var molacolor = L.tileLayer('http://s3-eu-west-1.amazonaws.com/whereonmars.cartodb.net/mola-color/{z}/{x}/{y}.png', {
    maxZoom: 18,
    tms: true,
    attribution: '&copy; <a href="https://www.openplanetary.org/">Open Planetary Map</a>'
});

var shadedsurface = L.tileLayer('http://s3-eu-west-1.amazonaws.com/whereonmars.cartodb.net/celestia_mars-shaded-16k_global/{z}/{x}/{y}.png', {
    maxZoom: 18,
    tms: true,
    attribution: '&copy; <a href="https://www.openplanetary.org/">Open Planetary Map</a>'
});

var vikingMDIM = L.tileLayer('http://s3-eu-west-1.amazonaws.com/whereonmars.cartodb.net/viking_mdim21_global/{z}/{x}/{y}.png', {
    maxZoom: 18,
    tms: true,
    attribution: '&copy; <a href="https://www.openplanetary.org/">Open Planetary Map</a>'
});

var baseMaps = {
    "OPM Mars Basemap v0.2": marsbase,
    "Mars Shaded Colour MOLA Elevation": molacolor,
    "Mars Shaded Surface Texture": shadedsurface,
    "Mars Viking MDIM2.1": vikingMDIM
}

var overlayMaps = {

};

var map = L.map('map', {
    center: [0, 100],
    zoom: 2,
    layers: [marsbase]
});

// add layer control
L.control.layers(baseMaps, overlayMaps).addTo(map);

// add full screen control
map.addControl(new L.Control.Fullscreen());

// L.tileLayer.wms('https://tile.osgeo.cn/service?', {
//         format: 'image/png',
//         opacity: '0.5',
//         layers: 'maplet_6cf7'
// }).addTo(mymap);

var sboxlatlng = L.Control.Geocoder.latLng();
L.Control.geocoder({
    placeholder: "经纬度",
    geocoder: sboxlatlng,
    position:"topleft"
}).addTo(map);

// geojson
var geojsonFeature = {
    "type": "Feature",
    "properties": {
        "name": "祝融号",
        "amenity": "火星车",
        "popupContent": "2020年7月23日发射，2021年5月15日着陆火星。"
    },
    "geometry": {
        "type": "Point",
        "coordinates": [109.9, 25.1]
    }
};

L.geoJSON(geojsonFeature).addTo(map);

</script>
</body>
</html>
